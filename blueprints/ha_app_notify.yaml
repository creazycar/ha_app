blueprint:
  name: APP应用通知消息
  description: 处理APP应用的消息转发
  domain: automation
  source_url: https://github.com/shaonianzhentan/ha_app/blob/main/blueprints/ha_app_notify.yaml
  input:
    default_notify:
      name: 全部消息
      description: 默认获取全部接收到的短信通知消息
      default: []
      selector:
        action: {}
    com_xiaomi_smarthome:
      name: 米家
      description: com.xiaomi.smarthome
      default: []
      selector:
        action: {}
    com_tencent_mm:
      name: 微信
      description: com.tencent.mm
      default: []
      selector:
        action: {}
    com_tencent_mobileqq:
      name: QQ
      description: com.tencent.mm
      default: []
      selector:
        action: {}
    com_coolkit:
      name: 易微联
      description: com.coolkit
      default: []
      selector:
        action: {}
    com_byd_aeri_caranywhere:
      name: 比亚迪
      description: com.byd.aeri.caranywhere
      default: []
      selector:
        action: {}
trigger:
- platform: event
  event_type: ha_app
  event_data:
    type: notify
action:
- variables:
    package: '{{ trigger.event.data.data.package }}'
- choose:
  - conditions:
    - '{{ package == "com.xiaomi.smarthome" }}'
    sequence: !input com_xiaomi_smarthome
  - conditions:
    - '{{ package == "com.tencent.mm" }}'
    sequence: !input com_tencent_mm
  - conditions:
    - '{{ package == "com.tencent.mobileqq" }}'
    sequence: !input com_tencent_mobileqq
  - conditions:
    - '{{ package == "com.coolkit" }}'
    sequence: !input com_coolkit
  - conditions:
    - '{{ package == "com.byd.aeri.caranywhere" }}'
    sequence: !input com_byd_aeri_caranywhere
- sequence: !input default_notify