blueprint:
  name: APP应用通知消息
  description: 处理APP应用的消息转发
  domain: automation
  source_url: https://github.com/shaonianzhentan/ha_app/blob/main/blueprints/ha_app_notify.yaml
  input:
    com_xiaomi_smarthome:
      name: 米家
      description: 米家通知消息
      default: []
      selector:
        action: {}
    com_tencent_mm:
      name: 微信
      description: 微信通知消息
      default: []
      selector:
        action: {}
    com_tencent_mobileqq:
      name: QQ
      description: QQ通知消息
      default: []
      selector:
        action: {}
    com_coolkit:
      name: 易微联
      description: eWeLink通知消息
      default: []
      selector:
        action: {}
    com_byd_aeri_caranywhere:
      name: 比亚迪
      description: 比亚迪通知消息
      default: []
      selector:
        action: {}
trigger:
- platform: event
  event_type: ha_app
  event_data:
    type: notify
action:
- variables:
    package: '{{ trigger.event.data.data.package }}'
- choose:
  - conditions:
    - '{{ package == "com.xiaomi.smarthome" }}'
    sequence: !input com_xiaomi_smarthome
  - conditions:
    - '{{ package == "com.tencent.mm" }}'
    sequence: !input com_tencent_mm
  - conditions:
    - '{{ package == "com.tencent.mobileqq" }}'
    sequence: !input com_tencent_mobileqq
  - conditions:
    - '{{ package == "com.coolkit" }}'
    sequence: !input com_coolkit
  - conditions:
    - '{{ package == "com.byd.aeri.caranywhere" }}'
    sequence: !input com_byd_aeri_caranywhere